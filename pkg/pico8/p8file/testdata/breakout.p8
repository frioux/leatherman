pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
function _init()
 ball_x = 20
 ball_y = 70
 ball_dx = 2
 ball_dy = 2

 ball_r=2

 pad_dx=0
 pad_x=52
 pad_y=120
 pad_w=24
 pad_h=3
 pad_c=7

	cls()
end

function _update()
	local pressed = false
 if btn(0) then
  pad_dx=-5
  pressed = true
 end
 if btn(1) then
  pad_dx=5
  pressed = true
 end
 
 if not(pressed) then
  pad_dx/=1.7
 end
 ball_x+=ball_dx
 ball_y+=ball_dy
 pad_x+=pad_dx
 
 if ball_x > 127 or ball_x < 0 then
  ball_dx = -ball_dx
  sfx(0)
 end
 if ball_y > 127 or ball_y < 0 then
  ball_dy = -ball_dy
  sfx(0)
 end
 
 pad_c=7
 if ball_box(pad_x, pad_y, pad_w, pad_h) then
  pad_c=8
  ball_dy=-ball_dy
 end
end

frame=1
function _draw()
   frame+=1
	  rectfill(0, 0, 127, 127, 1)
   circfill(ball_x, ball_y, ball_r, 10)
   -- spr(frame%5, ball_x, ball_y)
   
   rectfill(pad_x, pad_y, pad_x+pad_w, pad_y+pad_h, pad_c)
end

function ball_box(box_x, box_y, box_w, box_h)
 if ball_y-ball_r > box_y+box_h then
    return false
 end
 if ball_x-ball_r > box_x+box_w then
    return false
 end
 if ball_y+ball_r < box_y then
    return false
 end
 if ball_x+ball_r < box_x then
    return false
 end
 return true
end
__gfx__
0000000000000000000000000000000000000000111011102200222233003330444000005500000060000000700000078800000000099999a0000aaab000bbb0
0000000000000000000000000000000000000000101010112220200233303033404400005555000060000000700000078888000099999009aa00aa00b000b0bb
000ab000000ab000000bb000000ba000000ba00010111011202220023033300340004000500550006000000077000007800800009000000900aaa000b000b000
00aaba0000abba0000abaa0000abaa0000abaa00100111102002200230033000400440005000500060000000070000078000800090000009000aa000b000b000
00abba0000abaa0000abaa0000abaa0000abaa00101111112002200230033030444000005005500060000000070070708000880090000099000a0000b000b0bb
000ba000000ba000000ba000000bb000000bb000101010012022222030333033404404405005055060000000007777708888800099009900000a0000b000b00b
0000000000000000000000000000000000000000101010012220200033303333400444005555555066606660007707708088800000999000000a0000bb00bb0b
0000000000000000000000000000000000000000111011112200200033000300444404005500055066666066007700708000800000000000000a0000bbbb0bbb
c000ccccd00000ddeeeeee00fff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000c00cdd0000d0e0000ee0f0ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000cccc0d000dd0e0000ee0f0ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000ccc00dd00d00e00eee00fff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000c0cc00d00d00eee00000ff0fff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000c00c00dddd00e0000000fffff0ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000c0cc000dd000e00000000fff0ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ccccccc0000d0000e00000000f0fff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
00002a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001537015370153701535015340153201531000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
